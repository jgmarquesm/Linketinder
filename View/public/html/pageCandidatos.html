<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/styleUsuario.css">
    <link rel="icon" type="image/x-icon" href="../img/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <title>Linketinder:: Candidato</title>
</head>

<body class="body" onload="carregarDados()">
    <nav>
        <ul class="nav justify-content-between">
            <li class="nav-item" id="item-logo">
                <a class="nav-link" href="../html/index.html">
                    <img src="../img/logo.png" id="logo-nav" alt="Logo Linketinder">
                </a>
            </li>
            <li class="nav-item">
                <div class="center-botao-fake">
                    <span class="botao-fake" id="nova-hab">Cadastrar nova habilidade</span>
                    <a href="./visualizaVagas.html" class="botao-fake" id="achar-vagas">Encontrar vagas</a>
                </div>
            </li>
        </ul>
    </nav>
    <main>
        <div>
            <img class="avatar" src="../img/profile-image.png" alt="Foto de perfil" id="avatarCand">
            <p id="nome">Seu nome aqui</p>
        </div>
        <div class="caixa-texto" id="about">
            <h2>Sobre mim</h2>
            <p id="texto-about">
                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi, voluptatem consequatur adipisci ducimus ipsa, ut dolor temporibus ipsum atque sit tempore a itaque ipsam repellendus esse, deserunt earum impedit rerum recusandae inventore dolore consequuntur
                hic voluptatibus nobis? Illum corrupti, natus recusandae possimus quisquam enim dolore esse iste iure quam nostrum ipsa. Rem officia sed cupiditate inventore repellat facere optio. Officia optio possimus architecto autem, temporibus vitae.
                Porro, provident nemo! Sed nulla, quod rem praesentium, magnam labore officiis debitis suscipit veniam molestiae placeat, harum ut sit natus beatae numquam in incidunt quasi illo earum dolor? Totam enim vero quas voluptate alias. Itaque
                fugiat ad magnam ducimus aliquam rem aliquid id dolores maiores, modi expedita cumque eos ipsam blanditiis unde voluptas est, possimus in quia illum omnis, vitae corporis. Alias esse sit exercitationem consectetur earum ipsum mollitia,
                sapiente quo iste?
            </p>
        </div>
        <div class="caixa-texto" id="skills">
            <h2>Habilidades</h2>
            <ul id="lista-skills">
                <li>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                </li>
            </ul>
        </div>

        <div class="modal fade" id="modal-cadastro-hab" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Nova Habilidade</h5>
                    </div>
                    <div class="modal-body">
                        <form action="" method="POST">
                            <div class="form-group">
                                <label for="typetext">Habilidade</label><br>
                                <input type="text" class="form-control" id="cad-skill-nome">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="cad-skill">Cadastrar</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <p>&#171&#171 João Gabriel - 2022 &#187&#187</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="../app.min.js"></script>
    <script>
        function carregarDados() {

            var novoCadastro = sessionStorage.getItem("novo");

            if (novoCadastro) {
                // não está funcional pois a cada adição, exclui do local Storage o adicionado anteriormente
                var existeCandidato = localStorage.getItem("cand-novo");

                //var avatar = document.getElementById("avatarCand");
                //avatar.src = localStorage.getItem(`avatarCandidato${JSON.parse(existeCandidato).nomeCandidato}`);

            } else {
                var existeCandidato = localStorage.getItem("CandidatoStd")
            }

            if (existeCandidato) {

                let candLocalStorage = JSON.parse(existeCandidato);

                let listaHabilidades = candLocalStorage.skill.split(", ");
                let nomeCandidato = document.getElementById("nome");
                let sobreMimCand = document.getElementById("texto-about");
                let listarSkills = document.getElementById("lista-skills");

                nomeCandidato.innerText = candLocalStorage.nomeCandidato;
                sobreMimCand.innerText = candLocalStorage.resumo;
                listarSkills.innerHTML = "";

                for (let hab of listaHabilidades) {
                    listarSkills.innerHTML += `
                    <li>${hab}</li>
                    `
                }
            }
        }
    </script>
</body>

</html>